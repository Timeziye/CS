[TOC]





# 计算机组成原理

## 第1章 计算机系统概述

### 1.1计算机系统的组成

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261506813.png" alt="image-20250426150652679" style="zoom: 67%;" />

### 1.2 计算机的发展

#### 1️⃣**电子数字计算机的发展历程**

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261510504.png" alt="image-20250426151024442" style="zoom:67%;" />

**背后的科学家**

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261511194.png" alt="image-20250426151113129" style="zoom:67%;" />

#### **2️⃣摩尔定律**

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261512233.png" alt="image-20250426151216168" style="zoom:67%;" />

#### **3️⃣cpu从1970年到2015年的发展情况**

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261513840.png" alt="image-20250426151328771" style="zoom:67%;" />

#### **4️⃣软件发展**

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261516047.png" alt="image-20250426151607990" style="zoom:67%;" />

#### **5️⃣当前计算机发展趋势**

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261517604.png" alt="image-20250426151733535" style="zoom:67%;" />

### 1.3计算机硬件

#### **1️⃣冯•诺依曼计算机结构**

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261519472.png" alt="image-20250426151920393" style="zoom:67%;" />

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261522336.png" alt="image-20250426152218275" style="zoom:67%;" />

#### **2️⃣冯•诺依曼计算机的特点**

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261523368.png" alt="image-20250426152334299" style="zoom:67%;" />

​	**冯诺依曼机的基本工作方式是<font color='blue'>控制流驱动方式</font>，也就是按照指令的执行序列，依次读取指令，然后根据指令所含的控制信息，调用数据信息进行处理。因此，在执行程序的过程中，始终以控制信息流为驱动工作的因素，而数据信息流则是被动地调用处理。**

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261526304.png" alt="image-20250426152635239" style="zoom:67%;" />

​	**可以看到，控制器与其他4个部件之间，都通过控制线和反馈线相连，这是因为这些部件需要在控制器的控制下协调工作。控制器通过控制线给其他部件发送控制信号，命令这些部件执行相应的任务，而其他部件通过反馈线将自身状态和任务完成情况反馈给控制器。**

​	**例如，在控制器控制下，将用户信息通过输入设备、运算器，存放到存储器中**

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261531939.png" alt="image-20250426153154886" style="zoom:67%;" />

​	**又例如，在控制器的控制下，将存储器中的信息，通过运算器、输出设备，进行输出**

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261533438.png" alt="image-20250426153309381" style="zoom:67%;" />

#### **3️⃣冯诺依曼计算机的缺点及改进**

- **缺点**

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261534701.png" alt="image-20250426153449642" style="zoom:67%;" />

- **改进**

​	**现代计算机以存储器为中心**

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261536926.png" alt="image-20250426153633865" style="zoom:67%;" />

#### **4️⃣现代计算机的结构**

- **输入输出设备**

​	                         <img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261537658.png" alt="image-20250426153731587" style="zoom:67%;" />

- **存储器**

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261538123.png" alt="image-20250426153801061" style="zoom:67%;" />

**运算器和控制器**

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261538519.png" alt="image-20250426153829451" style="zoom:67%;" />

<<font color='red'>**注**</font>>

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261541448.png" alt="image-20250426154126391" style="zoom:67%;" />

​	**运算器除了包含算术逻辑单元外，还包含了一些相关寄存器。在大规模集成电路制作工艺出现后，运算器和控制器往往被集成在同一颗芯片上，称为中央处理器（CPU）**

**现代计算机结构示意图**

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261541168.png" alt="image-20250426154149097" style="zoom:67%;" />

#### 小结

![image-20250426154655822](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261546971.png)

### 1.4 计算机软件

#### **1️⃣计算机软件的分类**

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261552611.png" style="zoom:67%;" />

#### **2️⃣计算机软件的发展**

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261554463.png" alt="image-20250426155405396" style="zoom:67%;" />

​	**使用微软Visual Studio集成开发环境编写的一段C语言源程序**

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261557762.png" alt="image-20250426155735691"  />

​	**下面是对其编译、调试的情况**

![image-20250426155947402](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261559586.png)

​	**需要说明的是，为了方便用户查看机器指令，开发环境默认使用十六进制的形式显示，而不是二进制形式**

![image-20250426155610643](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261556858.png)

#### **3️⃣程序设计语言和语言翻译程序的关系**

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261602253.png" alt="image-20250426160202180" style="zoom:67%;" />

#### **4️⃣使用GCC编译C语言源程序举例**

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261603950.png" alt="image-20250426160314871" style="zoom:67%;" />

​	**除了常见的编译和汇编外，该实例还增加了预处理和多目标程序链接的过程**

#### **5️⃣操作系统**

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261604945.png" alt="image-20250426160442871" style="zoom:67%;" />

### 1.5 计算机系统的层次结构

#### **1️⃣计算机系统的分层思想**

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261606649.png" alt="image-20250426160633555" style="zoom:67%;" />

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261608411.png" alt="image-20250426160829332" style="zoom:67%;" />

​	**在有微程序的系统中，CPU内部有一个控制存储器，用于存放各种机器指令对应的微程序，当CPU执行机器指令时，会在控制存储器里寻找与该机器指令对应的微程序，找到后，取出微程序中的微指令来控制执行各个微操作，从而完成机器指令的功能。**

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261612246.png" alt="image-20250426161231169" style="zoom:67%;" />

#### **2️⃣软件和硬件的逻辑功能等价性**

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261612169.png" alt="image-20250426161255092" style="zoom:67%;" />

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261614925.png" alt="image-20250426161400840" style="zoom:67%;" />

#### **小结**

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261619459.png" alt="image-20250426161901388" style="zoom:67%;" />

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261620035.png" alt="image-20250426162025959" style="zoom:67%;" />

### 1.6 计算机的基本工作原理

#### **1️⃣计算机硬件组成的细化**

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261624423.png" alt="image-20250426162445342" style="zoom:67%;" />

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261635290.png" alt="image-20250426163519216" style="zoom:67%;" />

- **加法：若要ALU做加法，首先需要将被加数送到累加器ACC中，而将加数送到操作数寄存器X中，ALU执行加法运算后，运算结果，即和，会保存在累加器ACC中。**
- **减法：若要ALU做减法，首先需要将被减数送到累加器ACC中，而将减数送到操作数寄存器X中，ALU执行减法运算后，运算结果，即差，会保存在累加器ACC中。**
- **乘法：若要ALU做乘法，首先需要将被乘数送到操作数寄存器X中，而将乘数送到乘商寄存器MQ中，ALU执行乘法运算后，运算结果，即乘积，其高位会保存在累加器ACC中，而低位会保存在乘商寄存器MQ中。**
- **除法：若要ALU做加法，首先需要将被除数送到累加器ACC中，而将除数送到操作数寄存器X中，ALU执行除法运算后，运算结果，即商和余数，其中，商会保存在乘商寄存器MQ中，余数会保存在累加器ACC中。**

#### **2️⃣算术运算原理及过程**

**加法操作过程**

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261636359.png" alt="image-20250426163603291" style="zoom:67%;" />

**减法操作过程**

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261636171.png" alt="image-20250426163651085" style="zoom:67%;" />

**乘法操作过程**

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261638023.png" alt="image-20250426163823943" style="zoom:67%;" />

**除法操作过程**

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261639544.png" alt="image-20250426163903466" style="zoom:67%;" />

**算术运算过程相同点**

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261641748.png" alt="image-20250426164133674" style="zoom:67%;" />

#### **3️⃣主存储器**

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261642096.png" alt="image-20250426164221018" style="zoom:67%;" />

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261642164.png" alt="image-20250426164259076" style="zoom:67%;" />

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261643970.png" alt="image-20250426164338885" style="zoom:67%;" />

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261644829.png" alt="image-20250426164428748" style="zoom:67%;" />

​	**如果用二进制来编址，则需要16个二进制比特，最小地址为16个二进制比特0，最大地址为16个二进制比特1，如下图所示**

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261646294.png" alt="image-20250426164608201" style="zoom:67%;" />

​	**如果用十六进制来编址，则需要4个十六进制位，最小地址为4个0，最大地址为4个F，如下图所示**

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261647067.png" alt="image-20250426164723984" style="zoom:67%;" />

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261649829.png" alt="image-20250426164912747" style="zoom:67%;" />

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261650684.png" alt="image-20250426165009600" style="zoom:67%;" />

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261651125.png" alt="image-20250426165122037" style="zoom:67%;" />

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261652246.png" alt="image-20250426165206162" style="zoom:67%;" />

#### **4️⃣控制器**

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261652914.png" alt="image-20250426165252825" style="zoom:67%;" />

####  **5️⃣细化后的计算机硬件组成框图**

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261654334.png" alt="image-20250426165409254" style="zoom:67%;" />

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261654332.png" alt="image-20250426165432256" style="zoom:67%;" />

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261655905.png" alt="image-20250426165522811" style="zoom:67%;" />

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261656687.png" alt="image-20250426165616588" style="zoom:67%;" />

####  **6️⃣机器指令简介**

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261657834.png" alt="image-20250426165725749" style="zoom:67%;" />

​	**编写计算a×b+c的机器指令程序**

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261748653.png" alt="image-20250426174806571" style="zoom:67%;" />

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250426175657263.png" alt="image-20250426175657175" style="zoom:67%;" />

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250426175743592.png" alt="image-20250426175743508" style="zoom:67%;" />

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250426175836412.png" alt="image-20250426175836321" style="zoom:67%;" />

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250426175933885.png" alt="image-20250426175933798" style="zoom:67%;" />

#### **7️⃣计算机的基本工作原理**

​	**以a×b+c该机器程序为例，结合之前得出的计算机硬件组成框图，学习计算机的基本工作原理。注意，为了简单起见，并未画出I/O设备，并且在接下来的叙述中，我们将主存储器简称为内存**

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250426180427282.png" alt="image-20250426180427180" style="zoom:67%;" />

​	**由[1.6-5中控制器](#5️⃣细化后的计算机硬件组成框图)章节我们已经知道，程序计数器PC用来<font color='blue'>存放当前欲执行的指令地址</font>，且<font color='blue'>PC自动形成下一条地址</font>,初始时，程序计数器PC的值为0，可以理解为指向内存中编号为0的存储单元 **

**第一条指令**

- **①对第一条指令进行<font color='blue'>取指</font>**

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250426201554476.png"/>

<video src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250428110659093.mp4" control="controls"/>

- ##### **②对第一条指令进行<font color='blue'>分析</font>**

> **第一条指令取指完成后，程序计数器PC会自动形成下一条指令的地址，也就是自动加1的功能，此时PC值从0变成了1，接着对第一条指令进行分析**

<img src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250426202358657.png"/>

<video src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250426200759765.mp4" control="controls"/>

<video src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250426202615838.mp4" control="controls"/>


- **③对第一条指令进行<font color='blue'>执行</font>**

> **在完成第一条指令的分析后，控制器就知道了该指令所要执行的具体操作，于是就执行该指令**

![image-20250426203252371](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250426203252611.png)

<video src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250426203200021.mp4" control="controls"/>

**第二条指令**

​	**在完成第一条指令的取值后，程序计数器(PC)=1，也就是指向内存中编号为1的存储单元，而该存储单元的内容，就是本程序的第二条机器指令**

<video src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250426203709529.mp4" control="controls"/>

- **①对第二条指令取指**

![image-20250426203929223](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250426203929537.png)

<video src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250426204112181.mp4" control="controls"/>

- **②对第二条指令进行<font color='blue'>分析</font>**

> **第二条指令取指完成后，程序计数器PC会自动形成下一条指令的地址，也就是自动加1的功能，此时PC值从1变成了2，也就是指向内存中编号为2的存储单元，而该存储单元的内容，就是本程序的第三条机器指令。接着对第二条指令进行分析**

![image-20250426204739042](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250426204739509.png)

<video src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250426204902517.mp4" control="controls"/>

<video src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250426205053757.mp4" control="controls"/>

- **③对第二条指令进行<font color='blue'>执行</font>**

> **在完成第一条指令的分析后，控制器就知道了该指令所要执行的具体操作，于是就执行该指令**

![image-20250426205619951](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250426205620411.png)

<video src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250426205742285.mp4" control="controls"/>

**后续过程请参照上述过程自行分析**

![image-20250427193122749](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250427193122845.png)

![image-20250427204620347](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250427204620461.png)

#### 小结

![image-20250427204717149](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250427204717225.png)

![image-20250427204854959](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250427204855039.png)

![image-20250427205015602](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250427205015700.png)

