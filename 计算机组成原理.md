[TOC]





# 计算机组成原理

## 第1章 计算机系统概述

### 1.1计算机系统的组成

![image-20250426150652679](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261506813.png#400h)

### 1.2 计算机的发展

#### 1️⃣**电子数字计算机的发展历程**

![image-20250426151024442](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261510504.png#400h)

**背后的科学家**

![image-20250426151113129](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261511194.png#400h)

#### **2️⃣摩尔定律**

![image-20250426151216168](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261512233.png#400h)

#### **3️⃣cpu从1970年到2015年的发展情况**

![image-20250426151328771](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261513840.png#400h)

#### **4️⃣软件发展**

![image-20250426151607990](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261516047.png#400h)

#### **5️⃣当前计算机发展趋势**

![image-20250426151733535](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261517604.png#400h)

### 1.3计算机硬件

#### **1️⃣冯•诺依曼计算机结构**

![image-20250426151920393](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261519472.png#400h)

![image-20250426152218275](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261522336.png#400h)

#### **2️⃣冯•诺依曼计算机的特点**

![image-20250426152334299](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261523368.png#400h)

​	**冯诺依曼机的基本工作方式是<font color='blue'>控制流驱动方式</font>，也就是按照指令的执行序列，依次读取指令，然后根据指令所含的控制信息，调用数据信息进行处理。因此，在执行程序的过程中，始终以控制信息流为驱动工作的因素，而数据信息流则是被动地调用处理。**

![image-20250426152635239](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261526304.png#400h)

​	**可以看到，控制器与其他4个部件之间，都通过控制线和反馈线相连，这是因为这些部件需要在控制器的控制下协调工作。控制器通过控制线给其他部件发送控制信号，命令这些部件执行相应的任务，而其他部件通过反馈线将自身状态和任务完成情况反馈给控制器。**

​	**例如，在控制器控制下，将用户信息通过输入设备、运算器，存放到存储器中**

![image-20250426153154886](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261531939.png#400h)

​	**又例如，在控制器的控制下，将存储器中的信息，通过运算器、输出设备，进行输出**

![image-20250426153309381](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261533438.png#400h)

#### **3️⃣冯诺依曼计算机的缺点及改进**

- **缺点**

![image-20250426153449642](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261534701.png#400h)

- **改进**

​	**现代计算机以存储器为中心**

![image-20250426153633865](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261536926.png#400h)

#### **4️⃣现代计算机的结构**

- **输入输出设备**

![image-20250426153731587](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261537658.png#400h)

​    

- **存储器**

![image-20250426153801061](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261538123.png#400h)

**运算器和控制器**

![image-20250426153829451](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261538519.png#400h)

<<font color='red'>**注**</font>>

![image-20250426154126391](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261541448.png#400h)

​	**运算器除了包含算术逻辑单元外，还包含了一些相关寄存器。在大规模集成电路制作工艺出现后，运算器和控制器往往被集成在同一颗芯片上，称为中央处理器（CPU）**

**现代计算机结构示意图**

![image-20250426154149097](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261541168.png#400h)

#### 小结

![image-20250426154655822](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261546971.png)

### 1.4 计算机软件

#### **1️⃣计算机软件的分类**

![image-202504261552611](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261552611.png#400h)

#### **2️⃣计算机软件的发展**

![image-20250426155405396](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261554463.png#400h)

​	**使用微软Visual Studio集成开发环境编写的一段C语言源程序**

![image-20250426155735691](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261557762.png)

​	**下面是对其编译、调试的情况**

![image-20250426155947402](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261559586.png)

​	**需要说明的是，为了方便用户查看机器指令，开发环境默认使用十六进制的形式显示，而不是二进制形式**

![image-20250426155610643](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261556858.png)

#### **3️⃣程序设计语言和语言翻译程序的关系**

![image-20250426160202180](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261602253.png#400h)

#### **4️⃣使用GCC编译C语言源程序举例**

![image-20250426160314871](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261603950.png#400h)

​	**除了常见的编译和汇编外，该实例还增加了预处理和多目标程序链接的过程**

#### **5️⃣操作系统**

![image-20250426160442871](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261604945.png#400h)

### 1.5 计算机系统的层次结构

#### **1️⃣计算机系统的分层思想**

![image-20250426160633555](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261606649.png#400h)

![image-20250426160829332](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261608411.png#400h)

​	**在有微程序的系统中，CPU内部有一个控制存储器，用于存放各种机器指令对应的微程序，当CPU执行机器指令时，会在控制存储器里寻找与该机器指令对应的微程序，找到后，取出微程序中的微指令来控制执行各个微操作，从而完成机器指令的功能。**

![image-20250426161231169](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261612246.png#400h)

#### **2️⃣软件和硬件的逻辑功能等价性**

![image-20250426161255092](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261612169.png#400h)

![image-20250426161400840](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261614925.png#400h)

#### **小结**

![image-20250426161901388](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261619459.png#400h)

![image-20250426162025959](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261620035.png#400h)

### 1.6 计算机的基本工作原理

#### **1️⃣计算机硬件组成的细化**

![image-20250426162445342](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261624423.png#400h)

![image-20250426163519216](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261635290.png#400h)

- **加法：若要ALU做加法，首先需要将被加数送到累加器ACC中，而将加数送到操作数寄存器X中，ALU执行加法运算后，运算结果，即和，会保存在累加器ACC中。**
- **减法：若要ALU做减法，首先需要将被减数送到累加器ACC中，而将减数送到操作数寄存器X中，ALU执行减法运算后，运算结果，即差，会保存在累加器ACC中。**
- **乘法：若要ALU做乘法，首先需要将被乘数送到操作数寄存器X中，而将乘数送到乘商寄存器MQ中，ALU执行乘法运算后，运算结果，即乘积，其高位会保存在累加器ACC中，而低位会保存在乘商寄存器MQ中。**
- **除法：若要ALU做加法，首先需要将被除数送到累加器ACC中，而将除数送到操作数寄存器X中，ALU执行除法运算后，运算结果，即商和余数，其中，商会保存在乘商寄存器MQ中，余数会保存在累加器ACC中。**

#### **2️⃣算术运算原理及过程**

**加法操作过程**

![image-20250426163603291](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261636359.png#400h)

**减法操作过程**

![image-20250426163651085](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261636171.png#400h)

**乘法操作过程**

![image-20250426163823943](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261638023.png#400h)

**除法操作过程**

![image-20250426163903466](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261639544.png#400h)

**算术运算过程相同点**

![image-20250426164133674](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261641748.png#400h)

#### **3️⃣主存储器**

![image-20250426164221018](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261642096.png#400h)

![image-20250426164259076](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261642164.png#400h)

![image-20250426164338885](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261643970.png#400h)

![image-20250426164428748](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261644829.png#400h)

​	**如果用二进制来编址，则需要16个二进制比特，最小地址为16个二进制比特0，最大地址为16个二进制比特1，如下图所示**

![image-20250426164608201](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261646294.png#400h)

​	**如果用十六进制来编址，则需要4个十六进制位，最小地址为4个0，最大地址为4个F，如下图所示**

![image-20250426164723984](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261647067.png#400h)

![image-20250426164912747](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261649829.png#400h)

![image-20250426165009600](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261650684.png#400h)

![image-20250426165122037](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261651125.png#400h)

![image-20250426165206162](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261652246.png#400h)

#### **4️⃣控制器**

![image-20250426165252825](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261652914.png#400h)

####  **5️⃣细化后的计算机硬件组成框图**

![image-20250426165409254](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261654334.png#400h)

![image-20250426165432256](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261654332.png#400h)

![image-20250426165522811](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261655905.png#400h)

![image-20250426165616588](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261656687.png#400h)

####  **6️⃣机器指令简介**

![image-20250426165725749](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261657834.png#400h)

​	**编写计算a×b+c的机器指令程序**

![image-20250426174806571](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/202504261748653.png#400h)

![image-20250426175657175](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250426175657263.png#400h)

![image-20250426175743508](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250426175743592.png#400h)

![image-20250426175836321](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250426175836412.png#400h)

![image-20250426175933798](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250426175933885.png#400h)

#### **7️⃣计算机的基本工作原理**

​	**以a×b+c该机器程序为例，结合之前得出的计算机硬件组成框图，学习计算机的基本工作原理。注意，为了简单起见，并未画出I/O设备，并且在接下来的叙述中，我们将主存储器简称为内存**

![image-20250426180427180](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250426180427282.png#400h)

​	**由[1.6-5中控制器](#5️⃣细化后的计算机硬件组成框图)章节我们已经知道，程序计数器PC用来<font color='blue'>存放当前欲执行的指令地址</font>，且<font color='blue'>PC自动形成下一条地址</font>,初始时，程序计数器PC的值为0，可以理解为指向内存中编号为0的存储单元 **

**第一条指令**

- **①对第一条指令进行<font color='blue'>取指</font>**

![image-20250426201554476](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250426201554476.png#400h)

<video src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250428110659093.mp4" width="720" height="405" controls="controls" >
</video>

- ##### **②对第一条指令进行<font color='blue'>分析</font>**

**第一条指令取指完成后，程序计数器PC会自动形成下一条指令的地址，也就是自动加1的功能，此时PC值从0变成了1，接着对第一条指令进行分析**

![image-20250426202358657](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250426202358657.png#400h)


<video src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250426202615838.mp4" width="720" height="405" controls="controls">
</video>


- **③对第一条指令进行<font color='blue'>执行</font>**

**在完成第一条指令的分析后，控制器就知道了该指令所要执行的具体操作，于是就执行该指令**

![image-20250426203252371](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250426203252611.png#400h)

<video src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250426203200021.mp4" width="720" height="405" controls="controls">
</video>

**第二条指令**

​	**在完成第一条指令的取值后，程序计数器(PC)=1，也就是指向内存中编号为1的存储单元，而该存储单元的内容，就是本程序的第二条机器指令**

<video src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250426203709529.mp4" width="720" height="405" controls="controls">
</video>

- **①对第二条指令取指**

![image-20250426203929223](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250426203929537.png#400h)

<video src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250426204112181.mp4" width="720" height="405" controls="controls">
</video>

- **②对第二条指令进行<font color='blue'>分析</font>**

> **第二条指令取指完成后，程序计数器PC会自动形成下一条指令的地址，也就是自动加1的功能，此时PC值从1变成了2，也就是指向内存中编号为2的存储单元，而该存储单元的内容，就是本程序的第三条机器指令。接着对第二条指令进行分析**

![image-20250426204739042](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250426204739509.png#400h)

<video src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250426204902517.mp4" width="720" height="405" controls="controls">
</video>

<video src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250426205053757.mp4" width="720" height="405" controls="controls">
</video>

- **③对第二条指令进行<font color='blue'>执行</font>**

> **在完成第一条指令的分析后，控制器就知道了该指令所要执行的具体操作，于是就执行该指令**

![image-20250426205619951](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250426205620411.png#400h)

<video src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250426205742285.mp4" width="720" height="405" controls="controls">
</video>
**后续过程请参照上述过程自行分析**

![image-20250505104553812](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250505104601183.png#400h)

![image-20250505104650430](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250505104650912.png#400h)

#### 小结

![image-20250505104810339](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250505104810755.png#400h)

![image-20250505104838141](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250505104838581.png#400h)

![image-20250505104909382](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250505104909883.png#400h)

### 1.7 计算机系统的性能指标

#### 1️⃣定义



![image-20250429104236446](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429104236446.png#400h)

#### 2️⃣软硬件与计算机系统性能的关系

![image-20250429104346983](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429104346983.png#400h)

#### 3️⃣计算机硬件的相关性能指标

![image-20250429105108665](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429105108807.png#400h)

##### 基本性能指标



![image-20250429105207446](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429105207621.png#400h)



![image-20250429170826683](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429170826823.png#400h)

![image-20250429171511831](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429171511966.png#400h)

![image-20250429175149991](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429175150109.png#400h)

![image-20250429171543014](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429171543134.png#400h)

![image-20250429172916073](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429172916187.png#400h)

##### 与运算速度相关的性能指标

![image-20250429175644075](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429175644201.png#400h)

![image-20250429191055023](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429191055154.png#400h)

![image-20250429191246584](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429191246673.png#400h)

![image-20250429191543727](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429191543874.png#400h)

![image-20250429191716715](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429191716834.png#400h)

![image-20250429191745710](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429191745835.png#400h)

![image-20250429191858050](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429191858171.png#400h)

![image-20250429191936733](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429191936864.png#400h)

![image-20250429192009081](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429192009211.png#400h)

![image-20250429192114112](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429192114232.png#400h)

![image-20250429192602398](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429192602523.png#400h)

![image-20250429192643571](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429192643708.png#400h)

![image-20250507100600058](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250507100600346.png#400h)

![image-20250429192725312](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429192725455.png#400h)

![image-20250429192843808](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429192843953.png#400h)

![image-20250429192911062](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429192911187.png#400h)

![image-20250429193316642](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429193316771.png#400h)

![image-20250429193426825](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429193426951.png#400h)

![image-20250429193532769](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429193532903.png#400h)

![image-20250429193601329](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429193601447.png#400h)

#### 小结

![image-20250429193649981](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429193650198.png#400h)

![image-20250429193722260](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429193722395.png#400h)

![image-20250429193906115](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429193906236.png#400h)

![image-20250429193939890](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429193940022.png#400h)

![image-20250429194002138](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429194002274.png#400h)

![image-20250429194027467](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429194027614.png#400h)

![image-20250429194053058](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429194053187.png#400h)

![image-20250507100800665](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250507100800854.png#400h)



![image-20250429194404927](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429194405060.png#400h)

## 第2章 计算机内部的数据表示

### 2.1 数据表示的相关概念

![image-20250429194707277](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429194707401.png#400h)

![image-20250429194736032](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429194736165.png#400h)

​	**由于本章的内容主要是数值数据在计算机内部的表示，因此，我们假设在寄存器中存储的是某个数值数据的二进制编码，该二进制编码可能表示的数值数据有以下几种：**

![image-20250429195357791](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429195357927.png#400h)

![image-20250429195502970](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429195503118.png#400h)

![image-20250429195652475](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429195652613.png#400h)

### 2.2 进位计数制及其数据之间的相互转换

#### 1️⃣进位计数制

![image-20250429195819624](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250507100443201.png#400h)

![image-20250429195908528](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250509115417263.png#400h)

![image-20250429195957521](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429195957644.png#400h)

![image-20250429200027836](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429200027972.png#400h)

![image-20250429200055066](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429200055202.png#400h)

![image-20250429200200104](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429200200232.png#400h)

#### 2️⃣任意进制转十进制

![image-20250429200239611](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429200239740.png#400h)

![image-20250429200308939](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429200309105.png#400h)

![image-20250429200327091](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429200327225.png#400h)

![image-20250429200346289](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429200346414.png#400h)

#### 3️⃣二进制转八进制、十六进制

![image-20250429200435145](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429200435282.png#400h)

![image-20250429200521414](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429200521541.png#400h)

![image-20250429200546381](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429200546509.png#400h)

![image-20250429201108114](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429201108260.png#400h)

![image-20250429201156540](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429201156679.png#400h)

![image-20250429201228734](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429201228859.png#400h)

![image-20250429201319737](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429201319863.png#400h)

#### 4️⃣十进制转任意进制

![image-20250429202738436](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429202738573.png#400h)

![image-20250429203257432](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429203257581.png#400h)

![image-20250429203421622](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429203421747.png#400h)

![image-20250429203446997](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429203447130.png#400h)

![image-20250429203512715](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429203512852.png#400h)

![image-20250429203635774](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429203635903.png#400h)

![image-20250429203707307](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429203707457.png#400h)

![image-20250429203756779](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429203756924.png#400h)

![image-20250429203824431](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429203824564.png#400h)

![image-20250429203906428](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429203906566.png#400h)

![image-20250429203929271](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429203929418.png#400h)

![image-20250429204002217](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429204002360.png#400h)

#### 小结

![image-20250429204136183](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429204136339.png#400h)

### 2.3 定点数的编码

#### 2.3.1 原码

##### 1️⃣定点整数和定点小数的原码表示方法

![image-20250429204342409](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429204342541.png#400h)

![image-20250429204405910](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429204406058.png#400h)

![image-20250429204947801](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429204947941.png#400h)

##### 2️⃣定点整数的原码定义

![image-20250429205033054](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429205033187.png#400h)

##### 3️⃣定点小数的原码定义

![image-20250429210830915](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429210831048.png#400h)

![image-20250429211352315](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429211352448.png#400h)

##### 4️⃣原码的优缺点

![image-20250429211449888](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429211450021.png#400h)

![image-20250429211544565](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429211544715.png#400h)

#### 2.3.2 补码

##### 1️⃣补数的概念

![image-20250429211823757](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429211824024.png#400h)

![image-20250429211858415](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429211858565.png#400h)

![image-20250429212229341](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429212229477.png#400h)

![image-20250429212315453](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429212315601.png#400h)

![image-20250429212408474](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429212408617.png#400h)

![image-20250429212550706](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429212550856.png#400h)

##### 2️⃣定点整数的补码定义

![image-20250429213017151](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429213017289.png#400h)

​	**二进制减法手算法**

<video src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429213921274.mp4" width="720" height="405" controls>            </video>

​	**二进制减法凑值法**

<video src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429214326722.mp4" width="720" height="405" controls>            </video>

![image-20250429214417972](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429214418133.png#400h)

![image-20250429214532293](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429214532450.png#400h)

![image-20250429214607904](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429214608085.png#400h)

![image-20250429214758243](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429214758392.png#400h)

![image-20250429215308939](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250429215309095.png#400h)

##### 3️⃣定点小数的补码定义



![image-20250430152358999](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250430152359167.png#400h)

![image-20250430152416185](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250430152416366.png#400h)

![image-20250430152744214](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250430152744358.png#400h)

![image-20250430155307864](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250430155308028.png#400h)

![image-20250430155411295](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250430155411450.png#400h)

##### 4️⃣补码的优缺点

![image-20250430155712266](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250430155712430.png#400h)

![image-20250430163517882](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250430163518098.png#400h)

<font color='red'><注></font>：实际上，<font color='blue'>补码都是正数，补码根本没有符号位，全是数值位</font>。减法运算通过换成补码后，减数变成了正数，于是就可以进行加法运算，补码的意义就是使减数变成它对应的正数。那为何补码的最高位通常被称作符号位呢？我们知道，正数的补码是其本身，所以其补码最高位自然就是0，而计算负数的补码时，使用公式$[2^{n+1}+x]\ mod \ 2^{n+1}，(-2^n≤x<0)$时，计算得到的补码的最高位刚好为1，所以我们知道了，补码的最高位和原码的最高位（符号位）都是1，所以可以通过补码的最高位来判断原码的符号正负（即原来真值的正负情况），而补码全是正数，所以不能看到补码最高位是1就说该补码为负数，而应该说该补码对应的原码（或真值）为负数。

![image-20250430165410238](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250430165410443.png#400h)

![image-20250430170044010](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250430170044181.png#400h)

#### 2.3.3 反码

##### 1️⃣原码按位操作变补码

​	**原码符号位不变，数值位按位取反，末位加1，得到的编码就是补码**

![image-20250430172821446](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250430172821593.png#400h)

​	**而原码和补码中间的这一串编码即为反码,正数的反码是其原码，所以我们下面只讨论求负数的反码**

![image-20250430172929255](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250430172929423.png#400h)

##### 2️⃣定点整数的反码定义

![image-20250430173227196](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250430173227355.png#400h)

![image-20250430173316489](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250430173316642.png#400h)

![image-20250430173428549](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250430173428700.png#400h)

![image-20250430173449720](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250430173449879.png#400h)

![image-20250430173957926](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250430173958089.png#400h)

##### 3️⃣定点小数的反码定义

![image-20250430181052448](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250430181052602.png#400h)

![image-20250430181510912](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250430181511069.png#400h)

![image-20250430181553259](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250430181553406.png#400h)

![image-20250430181616429](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250430181616581.png#400h)

![image-20250430210253339](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250430210253718.png#400h)

![image-20250430211019718](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250430211019887.png#400h)

![image-20250430212723555](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250430212723738.png#400h)

![image-20250430213419515](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250430213419666.png#400h)

##### 4️⃣反码的优缺点

![image-20250430213602517](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250430213602671.png#400h)

![image-20250430213628597](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250430213628815.png#400h)

#### 2.3.4 移码

![image-20250430214806002](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250430214806227.png#400h)

![image-20250430214857159](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250430214857430.png#400h)

**由上图可知，真值x变成移码后，最小值为0**

##### 1️⃣ 移码的定义式

![image-20250430215622957](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250430215623162.png#400h)

![image-20250430215700354](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250430215700568.png#400h)

![image-20250430215727734](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250430215727941.png#400h)

![image-20250430215759068](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250430215759269.png#400h)

![image-20250430215855764](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250430215856012.png#400h)

##### 2️⃣ 移码的优点

![image-20250430220054022](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250430220054226.png#400h)

#### 2.3.5 原码、反码、补码、移码之间的转换

![image-20250501210315933](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250501210323128.png#400h)

​	**真值为负数时，原码、反码、补码、移码转换要比正数时的转换关系更复杂，所以我们下面具体讨论真值为负数时的转换情况**

##### 1️⃣反码法(适合硬件)

![image-20250501210642371](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250501210642535.png#400h)

##### 2️⃣扫描法(手工求)

![image-20250501211249070](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250501211249226.png#400h)

​	**扫描法箭头是双向的，即可用扫描法负数原码求补码，也可其补码求原码。所以$原码\xrightarrow{求补}补码\xrightarrow{求补}原码$，因此我们可以得到这样一个结论，那就是求补码的补码就可以得到原码。简单来说，就是补码的补码是原码，又或者说，原码与补码互为补码。**

​	<font color='red'><注></font>：扫描法中的`从右到左，右起第一个1及其右边的0保持不变`中的`右边的0`指的是1右边的<font color='blue'>所有0</font>。

![image-20250501214012087](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250501214012281.png#400h)

​	**已知真值x的补码，求其相反数-x的补码的方法**

![image-20250501214319206](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250501214319384.png#400h)

![image-20250501214835529](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250501214835728.png#400h)

![image-20250501214852391](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250501214852579.png#400h)

![image-20250501214927292](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250501214927478.png#400h)

#### 2.3.6 定点数的编码习题课

![image-20250502180510420](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250502180517635.png#400h)

![image-20250502180654815](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250502180654993.png#400h)

![image-20250502180840959](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250502180841153.png#400h)

![image-20250502181530014](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250502181530270.png#400h)

![image-20250502182001866](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250502182002130.png#400h)

![image-20250502182102486](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250502182102719.png#400h)

![image-20250502182549896](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250502182550120.png#400h)

![image-20250502182612975](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250502182613186.png#400h)

![image-20250502183117386](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250502183117622.png#400h)

![image-20250502192247819](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250502192248030.png#400h)

![image-20250502192349145](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250502192349372.png#400h)

![image-20250502192449759](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250502192449991.png#400h)

![image-20250502192708104](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250502192708321.png#400h)

![image-20250502193138596](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250502193138837.png#400h)

![image-20250502194325304](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250502194325533.png#400h)

​	**法二：也可以根据补码和移码的关系：仅符号位相反，且移码保留了原有真值的大小关系，可以直接比较。移码整个数轴从小到大从左到右是全0~全1，要想表示的数越小，就应该把1往低位放，所以除去符号位，移码为负，数值位2个1，5个0所能表示的最小数为00000011，对应的补码为10000011。**

![image-20250502195622495](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250502195622705.png#400h)

![image-20250502200907310](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250507100844719.png#400h)

![image-20250502200936793](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250502200937016.png#400h)





### 2.4 浮点数的表示

#### 2.4.1 浮点数的表示形式和表示范围

##### 1️⃣定点小数在计算机中的表示形式

![image-20250509154433686](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250509154440944.png#400h)

![image-20250509162816247](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250509162816428.png#400h)

**原码的0有两种表示，然后最大正数和最小负数、最小正数和最大负数的符号位相反，数值位相同，再根据反码和原码的转换关系可以知道，原码的数值位取反即可得到对应的反码，除最小负数外，其他在反码的基础上加1即可得到对应补码，由于补码能多表示一个最小负数，所以其最小负数为`-1`，对应的补码为1.000···00**

**原码中最大正数为0.111···11，其对应的十进制为$2^{-1}+2^{-2}···+2^{-n}= \frac{2^{-1}(1-2^{-n})}{ 1-2^{-1}}=1-2^{-n}$，是首项为$2^{-1}$，公比为$2^{-1}$的等比数列的前n项和**

##### 2️⃣定点整数在计算机中的表示形式

![image-20250509164040923](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250509164041192.png#400h)

![image-20250509164611585](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250509164611853.png#400h)

![image-20250509164633474](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250509164633738.png#400h)

![image-20250509164750540](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250509164750850.png#400h)

**由于计算机能处理的数为纯小数或者纯整数，所以在面对3.1415926这样的带小数时，有的同学会想到将其转化为一个`定点数×比例因子`的形式来间接表示带小数，但是由于面对不同带小数，比例因子没有办法统一，因而这种方法不适用，我们希望将浮点数直接表示在寄存器中，于是就引出了浮点数的表示问题**

##### 3️⃣浮点数的表示

![image-20250509165336333](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250509165336620.png#400h)

![image-20250509165615652](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250509165615955.png#400h)

**<font color='red'><注>：</font>$2^{10}$表示小数点向右移动2位，原因是因为指数部分也是用二进制表示的，即二进制指数10对应的是十进制数为2，$[10]_2=[2]_{10}$**

![image-20250509174107423](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250509174107714.png#400h)

**基数r是隐含约定的，一旦约定，就不再变化，换句话说 ，不需要专门表示和存储基数r，基数r的取值可以是2、4、8、16等**

##### 4️⃣浮点数的表示范围

![image-20250509221249774](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250509221250120.png#400h)

**由于尾数M的数符决定了整个浮点数的正负，所以当整个浮点数为负，且浮点数绝对值最大时，得到的即为负数N最小值，绝对值越大，负数越小，绝对值越小，负数越大，要注意绝对值由$r^E×尾数M的数值位$构成**
$$
\begin{cases}
		负数N最小值：r^{阶码E最大值}×尾数负数最小值=-(r^{阶码E最大值}×尾数数值位)=-(浮点数最大绝对值)\\
		负数N最大值：r^{阶码E最小值}×尾数负数最大值=-(r^{阶码E最小值}×尾数数值位)=-(浮点数最小绝对值)\\
	\end{cases}
$$
**整数N最大值=+6计算过程举例：基数r=2，阶码最大值011，即+3，尾数最大值0.11，即$1×2^{-1}+1×2^{-2}=+0.75$，**
**所以$正数N_{max}=2^{011}×[0.11]_{2}=2^{+3}×[0.11]_{2}=[+011]_{2}=[+6]_{10}$，计算过程中只需将阶码也就是指数转化为十进制，尾数转化为基数r进制即可，便于我们知道对应的r进制数小数点移动了几位，即本例最后是二进制数0.11小数点向右移动3位变成011，然后再将二进制数011转化为十进制数+6即可。**



![image-20250509221549354](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250509221549666.png#400h)



**解析：浮点数N要取到最大值时，阶码取最大值011，即+3，尾数取最大值0.1111，即**
**$[0.1111]_2=1×2^{-1}+1×2^{-2}+1×2^{-3}+1×2^{-4}=[+0.9375]_{10}$，但是此处无需转化为十进制数，为方便计算我们应将其转化为对应的r=8进制数，**
**即$[0.11111]_2=[+0.74]_8$，所以$N_{max}=8^{011}×[0.1111]_2=8^{+3}×[+0.74]_8=[+740]_8=0×8^0+4×8^1+7×8^2=[+480]_{10}$**

![image-20250512154739739](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512154747061.png#400h)

![image-20250512154843566](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512154844087.png#400h)

**阶码最大值为$[2^k-1]_{10}$，最小值为$[-(2^k-1)]_{10}$，尾数最大值为$[1-2^{-n}]_{10}$，最小值为$[2^{-n}]_{10}$，浮点数的最大正数，最小正数，最大负数，最小负数按照规律将阶码和尾数组合即可**

##### 5️⃣习题

![image-20250512154954985](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512154955359.png#400h)

![image-20250512155154280](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512155154648.png#400h)

![image-20250512155955688](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512155956101.png#400h)

#### 2.4.2 浮点数的规格化

##### 1️⃣浮点数的规格化

![image-20250512160942333](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512160942751.png#400h)

![image-20250512161058704](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512161059113.png#400h)

**使浮点数的表示精度最高：试想一下，如果尾数的数值部分的最高位为0，则实际上该位对数值的表达是没有作用的，因为在构成数值时，该位的位权是没有作用的，而规格化，就是要移除数值部分最高位的0，这相当于数值部分能够补充相应数量的低位，这样就提高了表示精度。**

![image-20250512161537790](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512161538215.png#400h)

![image-20250512161838027](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512161838434.png#400h)

![image-20250512161917709](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512161918121.png#400h)

![image-20250512162058186](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512162058595.png#400h)

![image-20250512162241785](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512162242194.png#400h)

![image-20250512162936672](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512162937072.png#400h)

![image-20250512163127939](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512163128341.png#400h)

**$+\frac{13}{128}=+13×2^{-7}=[+1101]_2×2^{-7}=[+0.00011101]_2$，即二进制数1101小数点向左移动7位**

![image-20250512164249698](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512164250115.png#400h)

##### 2️⃣习题

![image-20250512164330763](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512164331150.png#400h)

![image-20250512164525833](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512164526250.png#400h)

![image-20250512164721064](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512164721506.png#400h)

![image-20250512164829832](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512164830290.png#400h)

#### 2.4.3 IEEE 754标准

##### 1️⃣IEEE 754标准概述

![image-20250512165037639](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512165038081.png#400h)

![image-20250512165158181](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512165158580.png#400h)

##### 2️⃣IEEE 754标准下32位单精度浮点数的阶码相关内容

![image-20250512165514356](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512165514786.png#400h)

![image-20250512170014873](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512170015292.png#400h)

![image-20250512170253717](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512170254168.png#400h)

**我们将最小的两个数真值为-128和-127用作特殊用途，用来表示特殊数和非规格化数，而其他数即-126~+127用于IEEE 754单精度浮点数的规格化数的表示**

![image-20250512170844884](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512170845292.png#400h)

![image-20250512170956702](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512170957138.png#400h)

##### 3️⃣IEEE 754标准下32位单精度浮点数的尾数相关内容

![image-20250512180749362](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512180749701.png#400h)

**然而，IEEE 754单精度浮点数格式中的尾数虽然为定点小数，但其格式与我们之前复习的定点小数格式稍有不同，小数点隐含固定在尾数前面，而将原本小数点相邻左侧的符号位前移到最左侧，也就是IEEE 754单精度浮点数格式中的最高位作为符号位，如上图所示，而在小数点的相邻左侧隐藏一个1，但用来表示数值而不表示符号。为方便后续描述，我们用大写字母S表示符号位，大写字母E表示阶码，大写字母M表示尾数，这样，完整的尾数形式应该表示为`1.M`**

![image-20250512180854320](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512180854755.png#400h)

![image-20250512182159696](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512182200218.png#400h)

![image-20250512182332181](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512182332642.png#400h)

![image-20250512182737286](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512182737741.png#400h)

![image-20250512183407064](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512183407504.png#400h)

![image-20250512183839095](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512183839554.png#400h)

**非规格化数是用于表示很小的数，本来是指数是127，尾数由`1.M`变为`0.M`后，发生了右规，隐藏位的1右规以后，阶码加1，就变成了-126.同时也是为了让非规格化单精度浮点数能够平缓过渡到规格化单精度浮点数，即让这两大类单精度浮点数的衔接不至于突兀。指数部分统一调整至-126，以便能够连续地逼近并达到真正意义上的零值附近的数据点。简言之，设置非规格化数的指数为-126是为了确保整个数值范围内没有任何空白区段，并且能够在计算机内部高效、紧凑地存储尽可能多的不同大小的数值信息。**

​	**上述IEEE 754单精度浮点数的分类重新整理如下：**

![image-20250512184445549](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512184446060.png#400h)

​	**下面是IEEE 754浮点数标准中32位单精度浮点数与64位双精度浮点数各自可表示的各类数，64位双精度浮点数可表示的各类数可参照32位单精度浮点数进行推导，相比于32位单精度浮点数，64位双精度浮点数仅将阶码和尾数位数扩展，而其他规则不变。**

![image-20250512203537019](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512203537519.png#400h)

##### 4️⃣IEEE 754单精度(32位)浮点数与对应真值之间的转换

![image-20250512190341819](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512190342259.png#400h)

![image-20250512192359719](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512192400187.png#400h)

![image-20250512192501592](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512192502071.png#400h)

![image-20250512192558721](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512192559177.png#400h)

![image-20250512200948448](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512200948933.png#400h)

![image-20250512202037638](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512202038093.png#400h)

![image-20250512202119558](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512202119997.png#400h)

![image-20250512202146638](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512202147089.png#400h)

**遇到此类题可先判断符号和阶码，若符号相同，且阶码差距大，则可直接比较出结果**

![image-20250512203232093](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512203232516.png#400h)

##### 5️⃣IEEE 754单精度(32位)浮点数表示范围

![image-20250512204236275](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512204236726.png#400h)

- 规格化数范围

![image-20250512204645230](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512204645705.png#400h)

- 非规格化数范围

![image-20250512204843528](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512204843963.png#400h)

- IEEE 754双精度浮点数表示范围

![image-20250512204945537](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512204945953.png#400h)

- 习题

![image-20250512205459922](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512205500387.png#400h)

**因为非规格化数的阶码真值为-126，很小，所以最大正整数一定是规格化正数**

![image-20250512205909670](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250520160538280.png#400h)



![image-20250512210216067](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512210216499.png#400h)

##### 6️⃣精度缺失与IEEE 754数据格式规范

![image-20250512210327973](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512210328437.png#400h)

![image-20250512210409177](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512210409623.png#400h)

### 2.5 C语言中的数据类型及转换

#### 2.5.1 数据类型

![image-20250512214900249](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512214900568.png#400h)

​	

![image-20250512215053917](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512215054235.png#400h)

![image-20250512215529765](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512215530110.png#400h)

![image-20250512215602295](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250512215602629.png#400h)

#### 2.5.2 整型数据之间的类型转换

![image-20250514163725404](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250514163732927.png#400h)

##### 1️⃣相同字长之间的转换

![image-20250514164301974](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250514164302325.png#400h)

- 相同字长之间的转换——交集``0~127`之间的类型转换

**`char`转换为`unsigned`型**

![image-20250514164712046](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250514164712443.png#400h)

![image-20250514165001835](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250514165002216.png#400h)

![image-20250514165332876](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250514165333255.png#400h)

- 相同字长之间的转换——`-128~1`之间的类型转换

**`char`转换为`unsigned`型**

![image-20250514165846412](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250514165846893.png#400h)

**选用补码的原因是，补码既可表示负数，也可表示与其相对应的正数，这在了解补数的过程中我们已经知道。本例中-127转换为无符号数，相当于是在求与其相对应的正数，因为char型数值位共7位，符号位1位，所以最高位为符号位，最高位进位的权值为$2^8=256$，所以这个模就是256，根据补码整数的定义可得-127对应的正数为$-127+256=129$**。

**<font color='blue'>负数对应的正数=负数+模</font>**

- 相同字长之间的转换——`0~256`之间的数据转换

**`unsigned char`转换为`char`型**

![image-20250514174245193](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250514174245658.png#400h)

**转换后的数据=原值-256**

**<font color='blue'>正数对应的负数=正数-模</font>**

- 例题

![image-20250514172625455](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250514172625892.png#400h)

**short型数据共有16位，包含1个符号位，15个数值位，最高位进位的权值为$2^16=65536$，根据补码整数的定义可得-32767对应的正数为$-32767+65536=32769$**

![image-20250514174701907](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250514174702402.png#400h)

##### 2️⃣小字长转大字长

![image-20250514175143139](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250514175143631.png#400h)

![image-20250514180218547](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250514180219087.png#400h)

![image-20250514180315218](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250514180315851.png#400h)

- 例题

![image-20250514180516518](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250514180517038.png#400h)

##### 3️⃣大字长转小字长

![image-20250514180710953](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250514180711444.png#400h)

![image-20250514180803268](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250514180803781.png#400h)

#### 2.5.3 int,float,double之间的转换

![image-20250514180935578](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250514180936042.png#400h)

##### 1️⃣float转double

![image-20250514181122690](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250514181123289.png#400h)

![image-20250514181212860](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250514181213449.png#400h)

![image-20250514181333692](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250514181334331.png#400h)

##### 2️⃣double转float

![image-20250514181500543](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250514181501141.png#400h)

##### 3️⃣float/double转int

![image-20250514181551136](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250514181551713.png#400h)

##### 4️⃣int转float

![image-20250514181715477](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250514181716098.png#400h)

##### 5️⃣int转double

![image-20250514181910650](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250514181911239.png#400h)

##### 6️⃣总结

![image-20250514182254880](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250514182255478.png#400h)

## 第3章 运算方法和运算器

### 3.1 移位运算

#### 3.1.1逻辑移位

##### 1️⃣逻辑左移和逻辑右移



![image-20250514201650917](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250514201651479.png#400h)

![image-20250514201849267](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250520160538281.png#400h)

##### 2️⃣逻辑移位的应用举例

- 将$b_6$的内容清0而不影响其他各位，使用C语言实现

![image-20250514203245115](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250514203245679.png#400h)

**首先定义一个名为`b6_mask`的宏，意思为b6位的掩码，其内容为`1<<6`，即1左移6位，在本例中，该宏的作用相当于创建了另一个8位无符号变量，其最低为b0的初始值为1，其他位的初始值为0，然后将该变量的内容逻辑左移6位，高位移除，低位补0，这样就得到了b6位的掩码，如下图所示**

![image-20250514203903168](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250514203903759.png#400h)

**接下来，使用之前定义的宏编写了这条语句，该语句的作用是，首先将b6位的掩码按位取反，如下图所示**

![image-20250514204244368](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250514204244986.png#400h)

**然后将b6位的掩码按位取反的结果与变量regDate中的内容进行与运算，与1相与的那些位保持不变，而与0相与的那些位会被清0，如下图所示**

![image-20250514204519899](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250514204520502.png#400h)

**最后，与运算得到的结果会被写回到变量regDate中，如下图所示，这样，我们就通过逻辑移位运算、取反运算、与运算，实现了将寄存器的某个位清0，而不影响寄存器的其他各位**

![image-20250514204745752](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250514204746316.png#400h)

​	**完整实现过程**



<video src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250514202821566.mp4" width="720" height="405" controls>            </video>

- 将$b_6$的内容置1而不影响其他各位，使用C语言实现

**只需要将上一例中的取反运算符去掉，把与运算符改为或运算符即可，这相当于把变量regDate中的内容与b6位的掩码进行或运算，与0相或的那些位会保持不变，与1相或的那些位会被置1，如下图所示**



![image-20250514205733096](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250514205733775.png#400h)

**最后，或运算得到的结果会被重新写回变量regDate中，如下图所示。这样，我们就通过逻辑移位运算和或运算实现了将寄存器的某个位置1，而不影响寄存器的其他各位**

![image-20250514205844471](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250514205845106.png#400h)

**需要说明的是，在上述例子中，我们只利用了一个位的掩码对该位进行清0或置1的操作，实际上，可以利用每个位各自的位掩码，对每个位同时进行清0或置1的操作，例如下面的练习**

![image-20250514210842930](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250514210843622.png#400h)

**其中，`b0_mask|b5_mask`是将b0和b5的掩码先合并，然后再进行与运算，实现将b0和b5同时清0，下一句中`b2_mask|b3_mask`也是先将b2和b3的掩码先合并，然后再一起置1**

#### 3.1.2 算术移位

![image-20250514215835627](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250514215836228.png#400h)

##### 1️⃣对正数进行算术移位

![image-20250515101812028](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515101812676.png#400h)

![image-20250515103735247](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515103735684.png#400h)

![image-20250515103925218](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515103925775.png#400h)

![image-20250515103959928](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515104000510.png#400h)

![image-20250515105814156](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515105814753.png#400h)

![image-20250515105849424](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515105850023.png#400h)

##### 2️⃣对负数进行算术移位

![image-20250515110809506](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515110810157.png#400h)

![image-20250515110941333](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515110942019.png#400h)

3️⃣总结

![image-20250515111010981](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515111011628.png#400h)

![image-20250515150532343](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515150533023.png#400h)



![image-20250515150614227](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515150614932.png#400h)

![image-20250515151756450](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515151757166.png#400h)

![image-20250515151835578](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515151836285.png#400h)

![image-20250515151905378](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515151906067.png#400h)

![image-20250515151928340](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515151929049.png#400h)

##### 3️⃣补码的另一种算术移位方法

- 例1

![image-20250515154108995](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515154109638.png#400h)

![image-20250515152647031](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515152647693.png#400h)



![image-20250515161843698](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515161844264.png)

**在之前学习补码的过程中我们已经知道了补码全是正数，只不过是通过其最高位可以反应原来真值的正负，此处$[+26]_补$算术左移3位后，相当于乘以$2^3$，即$+26×3=+208$，只不过算术左移3位后，最高位由原来的0变成了1，因此反应出原来的真值为负数，所以208对应的负数即为$[x]_补=x+2^8,\therefore x=[x]_补-2^8，即x=208-256=-48$**

- 例2

![image-20250515154217020](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515154217665.png#400h)

![image-20250515152720782](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515152721451.png#400h)

- 练习1

![image-20250515154413592](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515154414241.png#400h)

- 练习2

![image-20250515154613698](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515154614338.png#400h)

![image-20250515155128763](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515155129415.png#400h)

##### 4️⃣算术移位的应用举例

![image-20250515155756154](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515155756813.png#400h)

##### 5️⃣C语言中的移位运算

![image-20250515163237577](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515163238330.png#400h)

**我们学习逻辑移位的过程中，了解到了逻辑移位只针对无符号数，而上图中有符号数si也会执行逻辑左移的原因是，计算机中或者C语言中数值都用补码表示，而补码的算术左移方法二类似于逻辑左移，都是高位移除，低位补0。（不太确定）**

- 习题

![image-20250515163932647](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515163933306.png#400h)

![image-20250515164009131](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515164009838.png#400h)

![image-20250515164056203](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515164056914.png#400h)

![image-20250515164116894](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515164117597.png#400h)

#### 3.1.3循环移位

##### 1️⃣四种循环移位

![image-20250515170315976](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515170316699.png#400h)

- 不带CF标志位的循环右移

![image-20250515170640393](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515170641152.png#400h)

**寄存器中存储的各位二进制数同时向右移动，从最低位b0移出的二进制数会被移入到最高位b7，这样就构成了循环。另外，从最低位b0移出的二进制数还会存入CF标志位，但是CF标志位本身并不存在于循环右移中，因此称为"不带CF标志位的循环右移"**

![3.1-2-ezgif.com-video-to-gif-converter](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515172141453.gif#400h)

![image-20250515172004641](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515172005512.png#400h)

- 不带CF标志位的循环左移

![image-20250515172245217](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515172245939.png#400h)

**寄存器中存储的各位二进制数同时向左移动，从最高位b7移出的二进制数会被移入到最高位b0，这样就构成了循环。另外，从最高位b7移出的二进制数还会存入CF标志位，但是CF标志位本身并不存在于循环左移中，因此称为"不带CF标志位的循环左移"**

![image-20250515172403535](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515172404244.png#400h)

![image-20250515172430106](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515172430831.png#400h)

- 带CF标志位的循环右移

![image-20250515173648245](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515173649001.png#400h)

**对于带CF标志位的循环右移，CF标志位存储的二进制数和寄存器存储的各位二进制数同时向右移动，为了方便描述，我们将CF标志位初始存储的二进制数记为$x_{CF}$，从CF标志位移出的二进制数，会被移入到寄存器的最高位b7，而从寄存器最低位b0移出的二进制数，会被移入到CF标志位，这样就构成了带CF标志位的循环右移。**

![image-20250515173714107](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515173714840.png#400h)

![image-20250515173749239](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515173749956.png#400h)

- 带CF标志位的循环左移

![image-20250515174025707](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515174026373.png#400h)

**对于带CF标志位的循环左移，CF标志位存储的二进制数和寄存器存储的各位二进制数同时向左移动，为了方便描述，我们将CF标志位初始存储的二进制数记为$x_{CF}$，从CF标志位移出的二进制数，会被移入到寄存器的最低位b0，而从寄存器最高位b7移出的二进制数，会被移入到CF标志位，这样就构成了带CF标志位的循环左移。**

![image-20250515174057202](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515174057920.png#400h)

![image-20250515181310401](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515181311417.png#400h)

##### 2️⃣循环移位的应用

![image-20250515181953678](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515181954484.png#400h)

##### 3️⃣循环移位的C语言实现

![image-20250515184651524](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515184652237.png#400h)

### 3.2 定点数的加法和减法运算

#### 3.2.1 补码加减法运算公式

![image-20250515185005080](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515185005857.png#400h)

![image-20250515185029291](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515185030285.png#400h)

##### 1️⃣补码的加法运算公式

​	**此处我们是基于定点小数的补码定义来证明补码的加减法运算公式，也可以基于定整数的补码定义来证明补码的加减法运算公式，只不过证明过程的书写内容稍麻烦**



![image-20250515185521341](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515185522094.png#400h)

- 符号同正

![image-20250515185600523](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515185601503.png#400h)

- 符号相反

![image-20250515185728676](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515185729400.png#400h)

![image-20250515185808483](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515185809191.png#400h)

- 符号同负

![image-20250515201121223](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515201122115.png#400h)

##### 2️⃣补码减法的运算公式

![image-20250515201549825](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515201550600.png#400h)

![image-20250515201811725](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515201812476.png#400h)

##### 3️⃣例题

![image-20250515202043909](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515202044624.png#400h)

![image-20250515202127749](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515202128529.png#400h)

![image-20250515202250125](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515202250882.png#400h)

![image-20250515202347159](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515202347963.png#400h)

![image-20250515202946476](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515202947210.png#400h)

![image-20250515203154527](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515203155274.png#400h)

![image-20250515203405345](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515203406129.png#400h)

#### 3.2.2 补码加减法的溢出检测

##### 1️⃣溢出的概念

![image-20250515203654742](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515203655475.png#400h)

![image-20250515203707420](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515203708290.png#400h)

##### 2️⃣溢出检测的三种方法

![image-20250515203818002](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515203818731.png#400h)

- 方法1：根据操作数的符号位与运算结果的符号位是否一致进行判断

![q](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515214351202.png#400h)

![image-20250515214418462](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515214419215.png#400h)

![image-20250515214523049](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515214523947.png#400h)

![image-20250515214604303](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515214605115.png#400h)

![image-20250515215113067](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515215113857.png#400h)

![image-20250515220220678](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515220221445.png#400h)

![image-20250515220427233](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515220427980.png#400h)
$$
方法1溢出检测的逻辑表达式
\begin{cases}
		x_{n-1}\cdot y_{n-1}\cdot \overline{s}_{n-1}\\
		\overline{x}_{n-1}\cdot \overline{y}_{n-1}\cdot s_{n-1}\\
	\end{cases}
$$
**上述溢出检测的逻辑表达式，第一个表达式可以认为$x_{n-1}与y_{n-1}$同为1，$s_{n-1}$为0时，结果为1；第二个表达式可以认为$x_{n-1}与y_{n-1}$同为0，$s_{n-1}$为1时，结果为1，将这两个表达式进行逻辑或运算，即可得到溢出标志位OF的逻辑表达式，如下图所示**

![image-20250515220506514](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515220507287.png#400h)

![image-20250515221749201](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250515221750030.png#400h)

- 方法2：根据运算过程中最高数值位的进位与符号位的进位是否一致进行判断

![image-20250516091335695](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516091343228.png#400h)

![image-20250516091447354](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516091447860.png#400h)

![image-20250516091812905](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516091813452.png#400h)

![image-20250516092023365](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516092023849.png#400h)
$$
方法2溢出检测的逻辑表达式：OF=C_{n-1}\bigoplus C_n（异或：同0异1）
$$

- 方法3：利用变形补码(具有2位符号位的补码)的符号位进行判断

![image-20250516092443839](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516092444456.png#400h)

![image-20250516093305779](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516093306431.png#400h)

![image-20250516093402398](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516093402999.png#400h)
$$
方法3溢出检测的逻辑表达式：OF=C_{n+1}\bigoplus C_n（异或：同0异1）
$$

##### 3️⃣习题

![image-20250516094603939](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516094604673.png#400h)

![image-20250516094653250](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516094654005.png#400h)

![image-20250516095624240](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516095625290.png#400h)

![image-20250516095904772](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516095905698.png#400h)

![image-20250516095937884](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516095938649.png#400h)

![image-20250516100006402](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516100007166.png#400h)

![image-20250516100041633](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516100042397.png#400h)

![image-20250516100107621](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516100108640.png#400h)

![image-20250516101111848](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516101112719.png#400h)

![image-20250516101148608](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516101149430.png#400h)

#### 3.2.3 逻辑代数和逻辑门

##### 1️⃣逻辑代数中的逻辑运算



![image-20250516101328823](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516101329755.png#400h)

##### 2️⃣基本逻辑运算与基本逻辑门

- 与运算和与门

​	**与运算：全1为1**

![image-20250516102001603](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516102002449.png#400h)

![image-20250516102137996](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516102138762.png#400h)

**注意，尽管我们在之后进行逻辑电路分析时，输入和输出都用二值逻辑中的1或0来表示，但是我们应该清楚，一般情况下，逻辑1在电路中用高电平来表示，例如`1.5V~4.2V`，逻辑0在电路中用低电平来表示，例如`500mv~1.8V`，另外，信号从输入到逻辑门开始，到逻辑门输出结果为止，是要耗费时间的，称为逻辑门的传播延迟，简称为门级延迟，一般为纳秒级，例如，工作电压为6V，线路的负载电容为50pF(皮法)的情况下，最大门级延迟为15ns，上述电气特性，可参看具体芯片的数据手册。**

![image-20250516103023109](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516103023876.png#400h)

**例如，这是7408芯片，其内部包含有4个与门，下图是其内部各与门的输入/输出端与芯片外部的引脚的对应关系，需要注意的是，生产74系列芯片的产家不止一家，电气特性可能有所不同。**

- 或运算和或门

​	**或运算：存1为1**

![image-20250516103257241](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516103258026.png#400h)

![image-20250516103416267](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516103417018.png#400h)

- 非运算和非门

![image-20250516103518238](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516103519190.png#400h)

![image-20250516103614376](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516103615387.png#400h)

##### 3️⃣复合逻辑运算与复合逻辑门

- 与非运算和与非门

​	**与非运算：全1为0**

![image-20250516103818888](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516103819691.png#400h)

![image-20250516104655615](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516104656399.png#400h)

![image-20250516105014151](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516105014904.png#400h)

![image-20250516105118009](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516105118985.png#400h)

![image-20250516105532951](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516105533975.png#400h)

![image-20250516105719971](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516105720779.png#400h)

![image-20250516152752864](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516152753702.png#400h)

- 或非运算和或非门

​	**或非运算：全0为1**

![image-20250516152929076](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516152929912.png#400h)

![image-20250516153433430](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516153434351.png#400h)

![image-20250516153519246](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516153520152.png#400h)

- 异或运算和异或门

​	**异或运算：相同为0，不同为1**



![image-20250516153939265](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516153939978.png#400h)

![image-20250516154051979](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516154053097.png#400h)

![image-20250516154321713](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516154322419.png#400h)

![image-20250516154757636](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516154758497.png#400h)

![image-20250516154943004](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516154943835.png#400h)

![image-20250516155020692](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516155021940.png#400h)

- 同或运算和同或门

​	**同或运算：相同为1，不同为0。实际上就是异或运算取反。**



![image-20250516155235344](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516155236013.png#400h)

#### 3.2.4 一位全加器的硬件逻辑实现

![image-20250516155613103](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516155613933.png#400h)

![image-20250516161315805](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516161316746.png#400h)

![image-20250516161726462](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516161727292.png#400h)

​	**例如$X_i,Y_i,C_i$为0时，得到的$S_i,C_{i+1}$为0**

![image-20250516161938064](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516161938848.png#400h)

​	**所有组合的真值表：**

![image-20250516162213852](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516162214669.png#400h)

![image-20250516162426275](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516162427499.png#400h)

![image-20250516162816189](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516162817370.png#400h)

![image-20250516163303329](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516163304182.png#400h)

![image-20250516163548509](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516163549690.png#400h)

![image-20250516164207688](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516164208560.png#400h)

![image-20250516164419536](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516164420423.png#400h)

#### 3.2.5 串行进位加法器的硬件逻辑实现

![image-20250516164623626](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516164624960.png#400h)

##### 1️⃣构建8位及n位串行进位加法器

​	**根据其进位信号的产生特点，称为串行进位加法器，也称为行波进位加法器。**



![image-20250516165146721](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516165147818.png#400h)

![image-20250516170141580](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250520160538282.png#400h)

**因此我们需要添加一个异或门，如下图所示**

![image-20250516165836682](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516165837584.png#400h)

![image-20250516165906201](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516165907067.png#400h)

##### 2️⃣改造n位串行进位加法器

- 改造上述电路，使其既可以做补码加法，也可以做补码减法

![image-20250516165954098](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516165954969.png#400h)

​	**改造过程：①首先断开操作数Y的每一位与其对应的n位串行进位加法器中的一位全加器的输入端的连接**

![image-20250516170713346](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516170714147.png#400h)

​	**②在其之间各添加一个异或门，各异或门的输出端连接到相对应的一位全加器的输入端**

![image-20250516170840734](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516170841569.png#400h)

​	**③操作数Y的每一位输入连接到相对应的异或门的一个输入端，各异或门的另一个输入端连接在一起，作为加法运算和减法运算的切换控制端`Sub`**

![image-20250516171035895](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516171036756.png#400h)

​	**根据异或的特点我们知道，当给`Sub`端输入1时，各异或门的输出即为操作数Y的每一位取反，于是这一步我们就实现了求$[-Y]_补$的取反过程**

![image-20250516171342414](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516171343222.png#400h)

​	**当给`Sub`端输入0时，各异或门的输出与操作数Y的每一位相同**

![image-20250516171704408](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516171705227.png#400h)

​	**将`Sub`端连接到n位串行进位加法器中的最低位的一位全加器的输入端**

![image-20250516172005826](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516172006702.png#400h)

​	**这样，当给`Sub`端输入1时，各异或门的输出即为操作数Y的每一位的取反，而输入到`Sub`端的1，也会输入到最低位的一位全加器的进位输入端，进而实现末位加1**

![image-20250516172234473](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516172235459.png#400h)

​	**而当给`Sub`端输入0时，各异或门的输出与操作数Y的每一位相同，而输入到`Sub`端的0，也会输入到最低位的一位全加器的输入端，这并不影响加法运算的结果**

![image-20250516172424666](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516172425324.png#400h)

##### 3️⃣分析串行进位加法器的性能

​	**假设在T0时刻，相关信号同时输入到n位串行进位加法器的相关输入端，不难看出，两个操作数的相关信号同时输入到了相应的一位全加器的输入端，而对于进位信号，此时只有最低位的一位全加器的进位输入端`C_0`有信号输入，而其他一位全加器的进位输入端要依次等待其相邻低位的一位全加器的进位输入端产生的进位信号，这就是所谓的串行进位或行波进位。**

​	**因此，我们首先来分析最低位的一位全家器`FA_0`的处理，这是T0时刻，各输入信号到达相关逻辑门的情况**

![image-20250516173352077](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516173352747.png#400h)

​	**1T时间后，有信号从最上面的与门输出，并到达其最左侧的或门**

![image-20250516173524494](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516173525160.png#400h)

​	**3T时间后，最下方的异或门有信号输出，并到达相关的逻辑门**

![image-20250516173735905](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516173736583.png#400h)

​	**4T时间后，中间的与门有信号输出，并到达其左侧的或门**

![image-20250516173834794](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516173835923.png#400h)

​	**5T时间后，该或门输出信号，而该信号就是`FA_0`产生的进位输出信号**

![image-20250516174005644](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516174006487.png#400h)

​	**6T时间后，左侧的异或门输出信号，而该信号就是`FA_0`产生的本为和信号**

![image-20250516174951513](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516174952527.png#400h)

​	**再来分析`FA_1`的处理，通过之前的分析知道，5T时间后，`FA_0`产生的进位输出信号进入`FA_1`的进位输入端，而`FA_1`的其他各输入端从T0时刻起就有相关信号输入了，因此，6T时间后，中间的与门有信号输出，并到达其左侧的或门，7T时间后，该或门输出信号，而该信号就是`FA_1`产生的进位输出信号，8T时间后，左侧的异或门输出信号，而该信号就是`FA_1`产生的本位和信号**

![image-20250516175509364](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516175510090.png#400h)

​	**以此类推，不难得到每个一位全加器产生进位输出、本位和输出各自需要等待的时间**

![image-20250516175753596](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516175754329.png#400h)

![image-20250516175836627](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516175837487.png#400h)

##### 4️⃣习题

![image-20250516180025486](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516180026320.png#400h)

![image-20250516180615556](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516180616404.png#400h)

![image-20250516180714552](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516180715470.png#400h)

![image-20250516180746173](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516180747073.png#400h)

![image-20250516180832361](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516180833410.png#400h)

![image-20250516180946871](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516180947741.png#400h)

![image-20250516181113993](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516181115064.png#400h)

![image-20250516181149607](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516181150755.png#400h)

![image-20250516181210526](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516181211350.png#400h)

![image-20250516181258269](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250520160538283.png#400h)

#### 3.2.6 先行进位加法器的硬件实现

##### 1️⃣构建先行进位加法器

​	**如果能够打破串行进位加法器中的进位依赖，提前得到所有一位全加器所需的进位输入信号，也就是所谓的先行进位，这样，所有一位全加器都可以并行运算，从而可以提高运算性能。**

![image-20250516194646482](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516194647427.png#400h)

![image-20250516195035649](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516195037032.png#400h)

![image-20250516195224361](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516195225253.png#400h)

![image-20250516195714002](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516195714875.png#400h)

![image-20250516195725493](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516195726375.png#400h)

![image-20250516195850179](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516195851080.png#400h)

![image-20250516195935540](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516195936341.png#400h)

##### 2️⃣基于4位先行进位电路构建4位快速加法器

![image-20250516200026041](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516200026939.png#400h)

​	**根据进位生成函数`G_i`的逻辑表达式可知，每个数位的进位生成函数都是由参与加法运算的两个操作数X和Y的相应数位的与运算得出，因此，我们给先行进位电路的`G_0~G_3`这四个输入端各连接一个与门；根据进位传递函数`P_i`的逻辑表达式可知，每个数位的进位传递函数都是由参与加法运算的两个操作数X和Y的相应数位异或运算得出，因此，我们给先行进位电路的`P_0~P_3`这四个输入端各连接异或门**

![image-20250516201104706](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516201105416.png#400h)

​	**之后，将两个操作数X和Y的各数位连接到相应的与门和异或门的输入端**

![image-20250516201211352](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516201212209.png#400h)

​	**根据本位和`S_i`的逻辑表达式可知，它由进位输入`C_i`和进位传递函数`P_i`的异或运算得出，因此，我们在上述电路的基础上，再增加求本位和的电路即可，至此，我们就基于4位先行进位电路构建出了4位快速加法器**

![image-20250516201539721](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516201540753.png#400h)

##### 3️⃣分析4位快速加法器的性能

![image-20250516202048834](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516202049732.png#400h)

- 完整分析过程

<video src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516202747521.mp4" width="720" height="405" controls>            </video>

##### 4️⃣4位快速加法器与4位串行进位加法器性能比较

![image-20250516203154638](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516203156762.png#400h)

​	**为了方便进行后续对比，我们使用4位快速加法器构建更大位宽的加法器电路**

![image-20250516203327201](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516203328005.png#400h)

![image-20250516203429598](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516203430534.png#400h)

​	**接下来分析通过进位串联方式构建的16位加法器的性能，假设T0时刻，参与加法运算的i盎格16位操作数X和Y以及进位输入`C_0`同时到达16位快速加法器的相应的输入端**

![image-20250516204158780](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516204200127.png#400h)

![image-20250516204608451](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516204609493.png#400h)

- 完整分析过程

<video src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516205346252.mp4" width="720" height="405" controls>            </video>

![image-20250516205603363](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516205604393.png#400h)

![image-20250516205640092](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250520160144428.png#400h)

##### 5️⃣可级联的4位先行进位电路

![image-20250516205823089](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516205824354.png#400h)

![image-20250516205906405](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516205907343.png#400h)

![image-20250516205952068](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516205953022.png#400h)

![image-20250516210049703](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516210050655.png#400h)

![image-20250516210258723](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516210259670.png#400h)

##### 6️⃣构建16位组内、组间并行加法器

![image-20250516210606679](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516210607743.png#400h)

![image-20250516210935829](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516210936850.png#400h)

![image-20250516210959854](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516211000883.png#400h)

![image-20250516211015472](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516211016450.png#400h)

- 完整构建过程

<video src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516211218788.mp4" width="720" height="405" controls>            </video>

##### 7️⃣分析16位组内、组间并行加法器的性能

![image-20250516211647737](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516211648737.png#400h)

- 完整分析过程

<video src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516211919098.mp4" width="720" height="405" controls>            </video>

![image-20250516212020722](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250516212021821.png#400h)

### 3.3无符号数的乘法运算硬件逻辑实现

##### 1️⃣笔算乘法的分析

![image-20250518200342034](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250518200349863.png#400h)

![image-20250518200410940](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250518200411655.png#400h)

![image-20250518200427076](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250518200427769.png#400h)

![image-20250518200530101](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250518200530898.png#400h)

![image-20250518200601655](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250518200602251.png#400h)

![image-20250518200734846](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250518200735558.png#400h)

![image-20250518200748705](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250518200749695.png#400h)

![image-20250518200812646](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250518200813363.png#400h)

![image-20250518200939327](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250518200940028.png#400h)

![image-20250518201026877](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250518201027630.png#400h)

![image-20250518201226773](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250518201227693.png#400h)

##### 2️⃣笔算乘法的改进

![image-20250518201328786](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250518201329490.png#400h)

![image-20250518201456154](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250518201456874.png#400h)

![image-20250518201614186](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250518201615090.png#400h)

##### 3️⃣无符号数乘法的硬件逻辑实现

![image-20250518201708469](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250518201709216.png#400h)

![image-20250518201938172](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250518201939074.png#400h)

![image-20250518203125259](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250518203126049.png#400h)

- 完整运算过程

<video src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250518204003274.mp4" width="720" height="405" controls>            </video>

### 3.4 定点数的乘法运算

#### 3.4.1 原码乘法运算的硬件逻辑实现

![image-20250518204734251](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250518204735034.png#400h)

**需要说明的是，这里的一位乘法并不是指参与运算的两个操作数是一位的，而是指在乘法运算过程中，每次根据乘数中的一位来计算位积。**

![image-20250518215702099](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250518215702887.png#400h)

**由于我们采用的是两个操作数的绝对值原码，因此可将它们看作是无符号数，所以右移一位的操作属于逻辑右移**

![image-20250518220128459](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250518220129174.png#400h)

![image-20250518220302996](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250518220303742.png#400h)

#### 3.4.2 补码乘法运算的硬件逻辑实现

##### 1️⃣Booth算法的推导和分析



![image-20250519100025162](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519100032851.png#400h)

![image-20250519101706283](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519101706842.png#400h)

**此处根据模数性质得到结果为2不理解**

![image-20250519102506756](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519102507365.png#400h)

![image-20250519102621824](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519102622422.png#400h)

![image-20250519102919929](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519102920518.png#400h)

![image-20250519103043432](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519103044056.png#400h)

![image-20250519103228595](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519103229195.png#400h)

![image-20250519103355607](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519103356241.png#400h)

![image-20250519103424821](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519103425421.png#400h)

##### 2️⃣Booth算法的硬件逻辑实现

![image-20250519153122943](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519153123664.png#400h)

![image-20250519153221003](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519153221708.png#400h)

![image-20250519153247079](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519153247810.png#400h)

![image-20250519153436004](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519153436734.png#400h)

- 译码器、反相器和选择器的作用说明

<video src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519161314851.mp4" width="720" height="405" controls>            </video>

​	**$y_i=1，y_{i+1}=0$时，译码器结果为100，表示要经过反相器这条通路**

![image-20250519174853879](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519174854629.png#400h)

**$y_i=1，y_{i+1}=1或y_i=0，y_{i+1}=0$，译码器结果为001，表示走选择器这条通路，选择器的这个选择输入端收到有效信号后，会将从这个数据输入端输入的信号，也就是全0，从数据输出端输出，这样，全0就输出给了算术逻辑单元ALU中的加法器作为其中一个操作数**

![image-20250519181637307](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519181637934.png#400h)

**$y_i=0，y_{i+1}=1$，选择器的这个选择是输入端接收到有效信号后，会将从这个数据输入端输入的信号，也就是操作数寄存器X中存放的被乘数x的补码，从数据输出端输出，这样，被乘数x的补码就被输入给了算术逻辑单元ALU中的加法器，作为其中一个操作数**

![image-20250519182330107](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519182330757.png#400h)

​	**最后，要舍弃乘数y的符号位1，以及去除之前添加的辅助位的位置（该方框连同其中数值一并舍弃）**

![image-20250519182118367](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519182119034.png#400h)

​	**流程图**

![image-20250519184209570](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519184210217.png#400h)



- 本例乘法运算逻辑执行过程

<video src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519184447137.mp4" width="720" height="405" controls>            </video>

##### 3️⃣习题

- 习题1

![image-20250519184612414](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519184613236.png#400h)

![image-20250519184635029](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519184636058.png#400h)

![image-20250519184718741](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519184719753.png#400h)

![image-20250519184745335](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519184746375.png#400h)

![image-20250519185019296](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519185020116.png#400h)

- 习题2 

![image-20250519185201303](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519185202062.png#400h)

![image-20250519185239449](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519185240270.png#400h)

#### 3.4.4 无符号阵列乘法器

##### 1️⃣构建无符号阵列乘法器

![image-20250519185553395](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519185554160.png#400h)

![image-20250519185730023](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519185730738.png#400h)

![image-20250519190243011](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519190243792.png#400h)

![image-20250519190124203](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519190124928.png#400h)

![image-20250519190437409](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519190438239.png#400h)

![image-20250519190456307](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519190457314.png#400h)

##### 2️⃣性能分析

![image-20250519190839741](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519190840500.png#400h)

![image-20250519191126284](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250520160518484.png#400h)

![image-20250519191614224](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519191614972.png#400h)

![image-20250519191711727](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519191712793.png#400h)

![image-20250519191733383](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519191734147.png#400h)

#### 3.4.5 补码阵列乘法器

##### 1️⃣逻辑实现

![image-20250519201917833](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519201918740.png#400h)

![image-20250519202021958](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519202022777.png#400h)

![image-20250519202110841](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519202111694.png#400h)

![image-20250519202414663](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519202415667.png#400h)

![image-20250519202512622](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519202513537.png#400h)

![image-20250519202547025](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519202548070.png#400h)

![image-20250519202629328](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519202630312.png#400h)

![image-20250519202645788](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519202646555.png#400h)

##### 2️⃣求补电路实现

​	**在串行进位加法器那一节中，曾介绍过，如何给串行进位加法器添加可控加减法电路，使其既可以进行补码加法运算，也可以进行补码减法运算，此处可以借鉴**

![image-20250519203226518](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519203227336.png#400h)

![image-20250519203415252](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519203416261.png#400h)

![image-20250519203442431](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519203443223.png#400h)

![image-20250519203612093](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519203613287.png#400h)

![image-20250519203641728](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519203642887.png#400h)

##### 3️⃣求补电路改进

- 改进

![image-20250519203702591](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519203703378.png#400h)

- 验证

![image-20250519204056554](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519204057360.png#400h)

![image-20250519204834812](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250520160538284.png#400h)

![image-20250519205036555](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250520160538285.png#400h)

**上述或门，只要有一个为1，则由于会往前传播，也就是本次或门的输出结果1作为前面或门的输入，导致前面的或门输出全为1，而或门输出的1作为异或门的一个输入，导致对应的位取反，也就是实现了扫面法中的右起第一个1左面的数值位全部取反**

![image-20250519205521848](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519205522698.png#400h)

### 3.5 定点数的除法运算

#### 3.5.1 原码除法运算



![image-20250519205806155](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519205807181.png#400h)

##### ①恢复余数法

###### 逻辑实现

![image-20250519205949016](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519205950092.png#400h)

![image-20250519210023729](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519210024919.png#400h)

![image-20250519210802825](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519210803815.png#400h)

![image-20250519211050853](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519211051566.png#400h)

**计算机无法直接判断大小，只能默认够减，减完发现结果小于0，才知道不够减，此时需要再加上被除数来恢复，而被除数又可看作是初始余数，所以叫做恢复余数法**

![image-20250519211242389](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519211243206.png#400h)

![image-20250519211830455](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519211831747.png#400h)

- 完整执行过程

<video src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519211736851.mp4" width="720" height="405" controls>            </video>

###### 硬件逻辑实现

![image-20250519211959021](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519212000297.png#400h)

![image-20250519212220750](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519212221546.png#400h)

![image-20250519212344734](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519212345516.png#400h)

![image-20250519213242086](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519213242865.png#400h)

![image-20250519213418861](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519213419503.png#400h)

##### ②不恢复余数法

![image-20250519214922634](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519214923417.png#400h)

![image-20250519214956408](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519214957215.png#400h)

![image-20250519215214244](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519215215043.png#400h)

![image-20250519215653773](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519215654572.png#400h)

![image-20250519215718469](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519215719242.png#400h)

![image-20250519215911454](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519215912267.png#400h)

#### 3.5.2 补码除法运算

![image-20250519220114963](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519220115708.png#400h)

##### ①不恢复余数法



![image-20250519220152675](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519220153434.png#400h)

###### 如何确定商值

![image-20250519220701874](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519220702720.png#400h)

![image-20250519220722668](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519220723509.png#400h)

![image-20250519221205455](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519221206261.png#400h)

###### 如何形成商符

![image-20250519221501089](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250519221501805.png#400h)

**当X和Y的补码同号时，由于X的绝对值小于Y的绝对值，所以$[R_1]_{补}$与Y的补码必然是异号的，异号表示不够减，上商0，而这恰好作为商符，表示商为正；当X和Y的补码异号时，由于X的绝对值小于Y的绝对值，所以$[R_1]_{补}$与Y的补码必然是同号的，同号表示不够减，上商1，而这恰好作为商符，表示商为负**

**另外，商的符号还可以用来判断商是否溢出，当被除数X与除数Y的补码同号时，若余数$R_1$的补码与除数Y的补码同号时，上商1即为溢出；当被除数X与除数Y的补码异号时，若余数$R_1$的补码与除数Y的补码异号时，上商0即为溢出**

###### 如何得到新余数

![image-20250520095716595](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250520095717373.png#400h)

![image-20250520095748267](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250520095749063.png#400h)

![image-20250520095936291](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250520095937093.png#400h)

###### 例题

![image-20250520103059920](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250520103100687.png#400h)

![image-20250520103145148](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250520103145898.png#400h)

​	**其相应的硬件逻辑实现与上节课源码除法的不恢复余数法的硬件逻辑实现是相似的，另外，与阵列乘法器类似，为了加快除法的运算速度，也可以设计阵列除法器**



### 3.6 浮点运算

#### 3.6.1 浮点加减法运算

##### 1️⃣运算方法及过程

![image-20250520104127242](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250520104128044.png#400h)

![image-20250520104301329](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250520104302242.png#400h)

![image-20250520104356362](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250520104357165.png#400h)

![image-20250520104704439](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250520104705551.png#400h)

![image-20250520104757654](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250520104758430.png#400h)

![image-20250520104958244](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250520104959085.png#400h)

![image-20250520105043548](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250520105044646.png#400h)

![image-20250520105217752](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250520105218559.png#400h)

![image-20250520105256474](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250520105257488.png#400h)

![image-20250520105326387](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250520105327169.png#400h)

![image-20250520105436797](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250520105437807.png#400h)

![image-20250520105453273](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250520105454027.png#400h)

![image-20250520105516117](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250520105516921.png#400h)

##### 2️⃣习题

![image-20250520105657874](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250520105658656.png#400h)

##### 3️⃣小结

![image-20250520105908921](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250520105909751.png#400h)

#### 3.6.2 IEEE 754浮点加减法运算

![image-20250520110035979](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250520110036921.png#400h)

![image-20250520110203098](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250520110204176.png#400h)

![image-20250520110251662](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250520110252525.png#400h)

![image-20250520110413071](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250520110413928.png#400h)

![image-20250520110506056](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250520110506876.png#400h)

![image-20250520110520767](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250520110521915.png#400h)

![image-20250520110603107](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250520110603942.png#400h)

#### 3.6.3 浮点乘法运算

![image-20250520110810753](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250520110811584.png#400h)

#### 3.6.4 浮点除法运算

![image-20250520111058438](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250520111059518.png#400h)

## 第4章 存储系统

### 4.1 存储器概述

![image-20250601175430435](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250601175438478.png#400h)

![image-20250601175622769](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250601175623591.png#400h)

![image-20250601180541932](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250601180543124.png#400h)

#### 4.1.1 存储器的分类

##### 1️⃣按存储介质分

![image-20250601181131581](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250601181132389.png#400h)

![image-20250601181307435](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250601181308393.png#400h)

![image-20250601181349703](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250601181350473.png#400h)

##### 2️⃣按存取方式分

![image-20250601181444237](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250601181444981.png#400h)

**上图就是使用磁带机对磁带存储器的内容进行存取，磁带存储器中的磁带，被磁带机中的旋转装置带动旋转，磁带机中的磁头贴近磁带，对其进行存取操作，很显然，要读取磁带某段区域存储的内容时，需要等到旋转装置带动磁带旋转到这段区域，到达磁头位置才能进行。**

![image-20250601181940683](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250601181941553.png#400h)

**第1章曾介绍过，要访问内存中的某个存储单元的内容，只要将该单元的地址写入到存储器地址寄存器MAR中，这样就可以对该存储单元进行读取或写入操作。**

![image-20250601182256319](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250601182257137.png#400h)

**属于直接存取存储器的机械硬盘就比属于顺序存取存储器的磁带多了一个访问维度，也就是磁头是摆动的，而不是固定的**

- 机械硬盘的内部构成和运行原理

<video src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250601182732666.mp4" width="720" height="405" controls>            </video>

##### 3️⃣按可改写性分

![image-20250601182914687](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250601182915984.png#400h)

![image-20250601183019651](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250601183020502.png#400h)

**上图为BIOS(Basic Input Output System)配置界面，相信喜欢CPU超频和内存超频的同学并不陌生，其程序代码和配置参数存储在主板上一颗半导体只读存储器芯片中，现代主流的计算机主板厂商都提供了更新这种芯片存储信息的便捷方法，但对于普通的计算机用户，一般很少用到。**

![image-20250601183342548](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250601183343407.png#400h)

**学习过计算机网络的同学应该知道，以太网卡上固化有MAC地址，例如，上图中的网卡上使用了EEPROM，也就是带点可擦可编程只读存储器，例如93C46芯片，来存储MAC地址以及产品相关信息。**

##### 4️⃣按可保存性分

![image-20250601183626985](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250601183627890.png#400h)

![image-20250601183658719](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250601183659603.png#400h)

**需要注意的是，对于固态硬盘，断电后长期不通电，例如2年以上，有可能造成存储信息的丢失，当然，这与环境温度，产品是消费级还是企业级等多个因素有关。**

##### 5️⃣按功能和存储速度分

![image-20250601184012821](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250601184013785.png#400h)

![image-20250601184112529](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250601184113868.png#400h)

![image-20250601184139468](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250601184140593.png#400h)

![image-20250601184200717](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250601184201603.png#400h)

![image-20250601184210714](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250601184211594.png#400h)

##### 6️⃣总结

![image-20250601184259802](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250601184300718.png#400h)

#### 4.1.2 存储器性能指标和存储系统层次结构

##### 1️⃣存储器性能指标

![image-20250601204508482](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250601204509462.png#400h)

![image-20250601204602388](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250601204745944.png#400h)

##### 2️⃣存储系统层次结构

![image-20250601205144947](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250601205146319.png#400h)

#### 4.1.3 主存的基本结构

![image-20250601205357967](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250601205359083.png#400h)

![image-20250601205507112](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250601205508477.png#400h)

![image-20250601205922472](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250601205923722.png#400h)

![image-20250601210052412](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250601210053215.png#400h)

**实际上，存储器地址寄存器MAR的内容由CPU通过地址总线送入，存储器数据寄存器MDR用于暂存CPU通过数据总线送来的待写入存储体中某个单元的信息，或者暂存从存储体中某个存储单元读出的信息，而上述操作，以及地址译码器的译码，都需要在CPU的控制下进行，由于控制信号往往不止一个，因此将传输各种控制信号的传输线统称为控制总线。下面，我们分别举例说明，CPU从主存中读取信息的过程，以及向主存中写入信息的过程。**

- CPU从主存中读取信息的过程

<video src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250601211037731.mp4" width="720" height="405" controls>            </video>

- CPU向主存写入信息的过程

<video src="http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250601211221381.mp4" width="720" height="405" controls>            </video>

![image-20250601211255575](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250601211256511.png#400h)

#### 4.1.4 用于地址译码的译码结构

​	**随着硬件技术的发展，内存都制成大规模集成电路芯片，而将MAR和MDR集成到了CPU中。因此，当我们再画出主存的结构时，除特别需要，就不再画出MAR和MDR了。**

​	**地址译码器的译码结构分为单译码结构和双译码结构。**

##### 1️⃣单译码结构

![image-20250601212247796](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250601212249522.png#400h)

##### 2️⃣双译码结构

![image-20250601213336696](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250601213337947.png#400h)

![image-20250601213623580](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250601213624413.png#400h)

#### 4.1.5 主存中数据的存放

##### 1️⃣机器字长与存储字长的区别

![image-20250601213819565](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250601213820422.png#400h)

##### 2️⃣地址访问模式

![image-20250601214058528](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250601214059703.png#400h)

![image-20250601214142643](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250601214143858.png#400h)

![image-20250601214220166](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250601214221351.png#400h)

![image-20250601214402848](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250601214403685.png#400h)

**即，1位是字节，16位是半字，32位是字**

![image-20250601214545728](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250601214546892.png#400h)

- intel x86汇编语言访问不同存储单元举例（假设数据段寄存器DS的值为0）

![image-20250601214935751](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250601214936559.png#400h)

![image-20250601214952335](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250601214953231.png#400h)

![	](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250601215110732.png#400h)

![image-20250601215332495](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250601215333729.png#400h)

![image-20250601215403763](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250601215404869.png#400h)

**假设存储字长为32位，也就是存储单元由4字节构成，若采用字访问模式，则通过字节地址的后两位可知道选择的是存储单元的哪一个字节，比如字节地址后两位为00，则选择的是该存储单元的最低位字节**

![image-20250601215517560](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250601215519109.png#400h)

**若采用半字访问模式，（机器字长为32位，即存储单元由4字节构成），则通过字节地址的倒数第二位可知道选择的是存储单元的哪个半字，例如，本例上中若字节地址倒数第二位为0，则选择的是该存储单元的低两位字节（也就是最低位半字）**

##### 3️⃣大端和小端方式

![image-20250601220418391](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250601220419693.png#400h)

![image-20250601220554794](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250601220555621.png#400h)

![image-20250601220649360](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250601220650746.png#400h)

![image-20250601220729817](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250601220731012.png#400h)

##### 4️⃣数据的边界对齐

![image-20250601220842258](http://typora--001.oss-cn-nanjing.aliyuncs.com/img/typora/20250601220843105.png#400h)
